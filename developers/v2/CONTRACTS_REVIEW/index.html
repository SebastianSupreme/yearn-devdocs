<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="Yearn.finance" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Smart Contracts Review Guideline | Yearn.finance</title><meta data-react-helmet="true" property="og:image" content="https://docs.yearn.finance/img/YFILogoGradient.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yearn.finance/img/YFILogoGradient.png"><meta data-react-helmet="true" property="og:url" content="https://docs.yearn.finance/developers/v2/CONTRACTS_REVIEW"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-developers-current"><meta data-react-helmet="true" name="twitter:card" content="Yearn Finance is a suite of products in Decentralized Finance (DeFi) that provides lending aggregation, yield generation, and insurance on the Ethereum blockchain."><meta data-react-helmet="true" property="og:title" content="Smart Contracts Review Guideline | Yearn.finance"><meta data-react-helmet="true" name="description" content="---"><meta data-react-helmet="true" property="og:description" content="---"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.yearn.finance/developers/v2/CONTRACTS_REVIEW"><link data-react-helmet="true" rel="alternate" href="https://docs.yearn.finance/developers/v2/CONTRACTS_REVIEW" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.yearn.finance/developers/v2/CONTRACTS_REVIEW" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://UNKNOWN-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.de2eed67.css">
<link rel="preload" href="/assets/js/runtime~main.7fbd8e67.js" as="script">
<link rel="preload" href="/assets/js/main.3b7c4848.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Yearn Finance</b></a><a class="navbar__item navbar__link" href="/getting-started/intro">Getting Started</a><a class="navbar__item navbar__link" href="/developers/v2/getting-started">Develop</a><a class="navbar__item navbar__link" href="/partners/introduction">Partner</a><a class="navbar__item navbar__link" href="/contributing/contribute">Contribute</a><a class="navbar__item navbar__link" href="/resources/faq">Resources</a><a class="navbar__item navbar__link" href="/security/index">Security</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/vaults/smart-contracts/BaseStrategy">0.4.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/vaults/smart-contracts/BaseStrategy">0.4.3</a></li><li><a class="dropdown__link" href="/vaults/0.4.2/getting-started">0.4.2</a></li><li><a class="dropdown__link" href="/vaults/0.3.5/getting-started">0.3.5</a></li><li><a class="dropdown__link" href="/vaults/0.3.4/getting-started">0.3.4</a></li><li><a class="dropdown__link" href="/vaults/0.3.3/getting-started">0.3.3</a></li><li><a class="dropdown__link" href="/vaults/0.3.2/getting-started">0.3.2</a></li><li><a class="dropdown__link" href="/vaults/0.3.1/getting-started">0.3.1</a></li><li><a class="dropdown__link" href="/vaults/0.3.0/getting-started">0.3.0</a></li></ul></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:0px;background-color:transparent"> </span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:0px;background-color:transparent">Â </span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Smart Contracts Review Guideline</h1></header><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="goals"></a>Goals<a class="hash-link" href="#goals" title="Direct link to heading">#</a></h2><p>This document specifies some guidelines to develop smart contracts and essential considerations when we do security reviews.</p><p>The information described here applies not ONLY to strategies (our main point of risk); if not, the main goal is to help all yDoers that develop or review contracts, especially Solidity.</p><p>The main goals are:</p><ul><li>Apply the best practices on developing smart contracts.</li><li>Document our experiences as learning lessons to mitigate risks and new attack vectors.</li><li>Reduce risks to get rekt on mainnet.</li><li>Discover potential issues, bugs, or exploits in the development or review phase.</li><li>Learn about the hacks or exploits that occurred in the DeFi ecosystem during the last months or years.</li></ul><p>This document is based on:</p><ul><li>The experience that the Yearn team has reached out to developing smart contracts and helping other protocols to mitigate risks.</li><li>Third sources (website, posts, and others). See more info in the <code>Sources</code> section.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="considerations"></a>Considerations<a class="hash-link" href="#considerations" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="solidity-version"></a>Solidity Version<a class="hash-link" href="#solidity-version" title="Direct link to heading">#</a></h3><p>Most smart contracts are built in Solidity (except the core contracts) and use the <code>0.6.12</code> version.</p><blockquote><p>In new Solidity versions, some considerations are not required.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="formatting--naming-conventions"></a>Formatting &amp; Naming Conventions<a class="hash-link" href="#formatting--naming-conventions" title="Direct link to heading">#</a></h2><p>All of us are working remotely, and each of us has different ways to develop smart contracts. So, it is extremelly important to get a standard and a naming convention for developing the smart contracts.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="formating"></a>Formating<a class="hash-link" href="#formating" title="Direct link to heading">#</a></h3><p>The linting or formatting the smart contract is a very important action to make them more readable, clear and easy to understand.</p><p>In our <a href="https://github.com/yearn/brownie-strategy-mix" target="_blank" rel="noopener noreferrer">Brownie Strategy Mix repo</a> we use <a href="https://www.npmjs.com/package/pretty-quick" target="_blank" rel="noopener noreferrer">Pretty Quick</a>.</p><p>To lint the contracts, you just need to execute the command:</p><p><code>yarn lint</code></p><blockquote><p>Before executing the CLI, you need to install the dependencies using <code>yarn install</code>.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="naming-conventions"></a>Naming Conventions<a class="hash-link" href="#naming-conventions" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="internal-or-private-functions"></a>Internal or Private Functions<a class="hash-link" href="#internal-or-private-functions" title="Direct link to heading">#</a></h4><p>To make the contracts more clear, a good practice is to add the <code>_</code> prefix to all the internal or private functions.
So, for example for this function</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript="><pre tabindex="0" class="prism-code language-javascript= codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">function myFunction() internal {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We should use:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript="><pre tabindex="0" class="prism-code language-javascript= codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">function _myFunction() internal {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="use-constants"></a>Use Constants<a class="hash-link" href="#use-constants" title="Direct link to heading">#</a></h4><p>Avoid using magic numbers or values. Instead, use constants with a meaningful name (in <strong>uppercase</strong>).</p><p>Instead of</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript="><pre tabindex="0" class="prism-code language-javascript= codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">function myFunction() public {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 value = aValue.mul(1234);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>use</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly javascript="><pre tabindex="0" class="prism-code language-javascript= codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Add a sentence describing what this constant means.</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">uint256 public constant VALUE_MULTIPLIER = 1234;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">function myFunction() public {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 value = aValue.mul(VALUE_MULTIPLIER);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="best-practices"></a>Best Practices<a class="hash-link" href="#best-practices" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="reduce-bytecode-size"></a>Reduce Bytecode Size<a class="hash-link" href="#reduce-bytecode-size" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="use-libraries"></a>Use libraries<a class="hash-link" href="#use-libraries" title="Direct link to heading">#</a></h4><p>One option is creating libraries because it encapsulates logic (move logic from the contract itself to the library) and reduces the strategy bytecode size.</p><p>References:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="use-interfaces"></a>Use Interfaces<a class="hash-link" href="#use-interfaces" title="Direct link to heading">#</a></h4><p>If the contract interacts with multiple protocols, you should use interfaces to interact with them instead of using the contract itself.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="assert-returns-values"></a>Assert Returns values<a class="hash-link" href="#assert-returns-values" title="Direct link to heading">#</a></h3><p>We must assert the returned values in any external call to check that the call was successful.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity="><pre tabindex="0" class="prism-code language-solidity= codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">uint256 value = externalContract.externalFunction(param1, ...paramN);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">require(value &gt; 0, &quot;invalid external value&quot;);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="variables---naming-convention"></a>Variables - Naming Convention<a class="hash-link" href="#variables---naming-convention" title="Direct link to heading">#</a></h3><p>In order to make the code more clear and readable, we need to identify the unit in the variables that express amounts.</p><p>Example:</p><ul><li><code>amountInWant</code>, <code>balanceInYShares</code>, etc.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="multiple-routers"></a>Multiple Routers<a class="hash-link" href="#multiple-routers" title="Direct link to heading">#</a></h3><p>In case we need to use multiple routers to swap tokens, we should use this approach:</p><ul><li>Create constants for the router addresses.</li><li>Create a variable <code>boolean useUniswap</code> or similar.</li><li>Create a external/public function to switch the <code>useUniswap</code> value.</li><li>To get the router, use:<ul><li><code>Router router = useUniswap ? uniswapRouter : sushiswapRouter;</code></li></ul></li></ul><p>See example <a href="https://github.com/therealmonoloco/geist-lender-borrower/blob/master/contracts/Strategy.sol#L158" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="github-issues"></a>Github Issues<a class="hash-link" href="#github-issues" title="Direct link to heading">#</a></h2><p>Use a new branch for each new strategy. Some old comments have references to lines of codes in branches that were already modified. It is more complicated to follow the comment when it happens.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="known-issues"></a>Known Issues<a class="hash-link" href="#known-issues" title="Direct link to heading">#</a></h2><ul><li>If the strategy uses another vault, we should add the maxLoss setting. See comment <a href="https://github.com/jmonteer/yearnV2-strat-SNX-staking/pull/9#issuecomment-872376640" target="_blank" rel="noopener noreferrer">here</a>.</li><li><em>Strategy</em>.<em>liquidatePosition</em> function: This condition must be true. <code>amountNeeded == liquidatedAmount + loss</code></li><li><strong>Must</strong> have the health check address set.<ul><li><a href="https://github.com/flashfish0x/Strategy0xDAOStaker/blob/ripae/contracts/GenericMasterChefStrategy.sol#L210" target="_blank" rel="noopener noreferrer">Example for Fantom</a></li><li><a href="https://github.com/tonkers-kuma/strategy-ssb/blob/main/contracts/Strategy.sol#L93" target="_blank" rel="noopener noreferrer">Example for Ethereum</a></li></ul></li><li><strong>Must</strong> use the <code>SafeMath</code> library to do calculations in the Solidity version <code>0.6.x</code>.<ul><li>The over/underflow issues are fixed in the Solidity version <code>0.8.x</code>.</li><li>The <code>BaseStrategy</code> already imports and declares the <code>SafeMath</code> and <code>SafeERC20</code> libraries, so you don&#x27;t need to use the <code>using SafeMath for uint</code> statement. The same with <code>SafeERC20</code>.</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="tools"></a>Tools<a class="hash-link" href="#tools" title="Direct link to heading">#</a></h2><ul><li><a href="https://www.ethsecurity.org/research-and-developer-resources/tools" target="_blank" rel="noopener noreferrer">ETH Security Tools</a></li><li>Trail of Bits Tools<ul><li><a href="https://github.com/crytic/slither" target="_blank" rel="noopener noreferrer">Slither</a></li><li><a href="https://github.com/trailofbits/manticore" target="_blank" rel="noopener noreferrer">Manticore</a></li><li><a href="https://github.com/crytic/echidna" target="_blank" rel="noopener noreferrer">Echidna</a></li><li><a href="https://github.com/trailofbits/eth-security-toolbox/" target="_blank" rel="noopener noreferrer">Docker Image with all ToB tools</a></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="required-checklists"></a>Required Checklists<a class="hash-link" href="#required-checklists" title="Direct link to heading">#</a></h2><p>Each strategy must pass two checklist verifications, a general checklist and another one depending on its type. Both checklists are <strong><em>required</em></strong> to deploy the strategy on any mainnet network.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="general"></a>General<a class="hash-link" href="#general" title="Direct link to heading">#</a></h3><p>These posts describe the most important considerations on security reviews.</p><ul><li><a href="https://ethereum.stackexchange.com/questions/8551/security-review-checklist-for-a-smart-contract" target="_blank" rel="noopener noreferrer">Stackoverflow - Security Review on Smart Contracts</a></li><li><a href="https://github.com/sushiswap/bentobox/blob/master/documentation/checks.txt" target="_blank" rel="noopener noreferrer">Sushiswap - Multiple Checks</a></li><li><a href="https://www.notonlyowner.com/learn/intro-security-hacking-smart-contracts-ethereum" target="_blank" rel="noopener noreferrer">Not Only Owner - Intro Security Hacking Smart Contracts</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="strategies"></a>Strategies<a class="hash-link" href="#strategies" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="single-sided-lps-strategies"></a>Single Sided LPs Strategies<a class="hash-link" href="#single-sided-lps-strategies" title="Direct link to heading">#</a></h4><ul><li>Item 1</li><li>Item 2</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="leveraged-strategies"></a>Leveraged Strategies<a class="hash-link" href="#leveraged-strategies" title="Direct link to heading">#</a></h4><ul><li>Item 1</li><li>Item 2</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="joint--hedged-strategies"></a>Joint / Hedged Strategies<a class="hash-link" href="#joint--hedged-strategies" title="Direct link to heading">#</a></h4><ul><li>Item 1</li><li>Item 2</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="fixed-rate-strategies"></a>Fixed Rate Strategies<a class="hash-link" href="#fixed-rate-strategies" title="Direct link to heading">#</a></h4><ul><li>Item 1</li><li>Item 2</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="masterchef-strategies"></a>MasterChef Strategies<a class="hash-link" href="#masterchef-strategies" title="Direct link to heading">#</a></h4><ul><li>Item 1</li><li>Item 2</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="sources"></a>Sources<a class="hash-link" href="#sources" title="Direct link to heading">#</a></h2><ul><li><a href="https://halborn.com/explained-the-xtoken-hack-august-2021/" target="_blank" rel="noopener noreferrer">Explained XToken Hack</a></li><li><a href="https://bzx.network/blog/post-mortem-update" target="_blank" rel="noopener noreferrer">BzX Network Post Mortem</a></li><li><a href="https://medium.com/immunefi/harvest-finance-uninitialized-proxies-bug-fix-postmortem-ea5c0f7af96b" target="_blank" rel="noopener noreferrer">Harvest Finance Uninitialized Proxies</a></li><li><a href="https://twitter.com/mudit__gupta/status/1459340913751117826?s=21" target="_blank" rel="noopener noreferrer">Uniswap V3: Risk Analysis for TWAP</a></li><li><a href="https://medium.com/taipei-ethereum-meetup/reason-why-you-should-use-eip1167-proxy-contract-with-tutorial-cbb776d98e53" target="_blank" rel="noopener noreferrer">Minimal Proxies - Reasons Why You Should Use EIP1167</a></li><li><a href="https://blog.originprotocol.com/a-minimal-proxy-in-the-wild-ae3f7b8da990" target="_blank" rel="noopener noreferrer">Origin Protocol - Understanding Minimal Proxies</a></li><li><a href="https://blog.openzeppelin.com/deep-dive-into-the-minimal-proxy-contract/" target="_blank" rel="noopener noreferrer">Open Zeppelin - Understanding Minimal Proxies</a></li><li><a href="https://blog.openzeppelin.com/deconstructing-a-solidity-contract-part-ii-creation-vs-runtime-6b9d60ecb44c/" target="_blank" rel="noopener noreferrer">Open Zeppelin - Creation vs Runtime Code</a></li><li><a href="https://twitter.com/tinchoabbate/status/1433435829372850180?s=21" target="_blank" rel="noopener noreferrer">Not Only Owner - Spanish &amp; English</a></li><li><a href="https://twitter.com/moo9000/status/1448967076698333192?s=21" target="_blank" rel="noopener noreferrer">Twitter Thread - How Your Crypto Fund or Exchange Gets Hacked</a></li></ul><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2022-02-07T23:24:05.000Z">2/7/2022</time></b> by <b>Rare Weasel</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#goals" class="table-of-contents__link">Goals</a></li><li><a href="#considerations" class="table-of-contents__link">Considerations</a><ul><li><a href="#solidity-version" class="table-of-contents__link">Solidity Version</a></li></ul></li><li><a href="#formatting--naming-conventions" class="table-of-contents__link">Formatting &amp; Naming Conventions</a><ul><li><a href="#formating" class="table-of-contents__link">Formating</a></li><li><a href="#naming-conventions" class="table-of-contents__link">Naming Conventions</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link">Best Practices</a><ul><li><a href="#reduce-bytecode-size" class="table-of-contents__link">Reduce Bytecode Size</a></li><li><a href="#assert-returns-values" class="table-of-contents__link">Assert Returns values</a></li><li><a href="#variables---naming-convention" class="table-of-contents__link">Variables - Naming Convention</a></li><li><a href="#multiple-routers" class="table-of-contents__link">Multiple Routers</a></li></ul></li><li><a href="#github-issues" class="table-of-contents__link">Github Issues</a></li><li><a href="#known-issues" class="table-of-contents__link">Known Issues</a></li><li><a href="#tools" class="table-of-contents__link">Tools</a></li><li><a href="#required-checklists" class="table-of-contents__link">Required Checklists</a><ul><li><a href="#general" class="table-of-contents__link">General</a></li><li><a href="#strategies" class="table-of-contents__link">Strategies</a></li></ul></li><li><a href="#sources" class="table-of-contents__link">Sources</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items"><li class="footer__item"><a href="https://contribute.yearn.rocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>#strategies - Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forms.gle/Jkbu81sjAfL6NzH17" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Get Involved - Survey<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/yearn/yearn-vaults" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/brownie-strategy-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>brownie-strategy-mix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/brownie-wrapper-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>brownie-wrapper-mix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-watch" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-watch<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-finance-v3" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-finance-v3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-security" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items"><li class="footer__item"><a href="https://yearn.finance/vaults" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.yfistats.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YFI Stats<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://bowswap.finance/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Bowswap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/iearnfinance" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/yearnfinance/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/iearn" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gov.yearn.finance" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://snapshot.org/#/ybaby.eth" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Snapshot voting<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.7fbd8e67.js"></script>
<script src="/assets/js/main.3b7c4848.js"></script>
</body>
</html>