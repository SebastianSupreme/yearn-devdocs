<!doctype html>
<html class="docs-version-0.4.3" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="search" type="application/opensearchdescription+xml" title="Yearn.finance" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">BaseStrategy | Yearn.finance</title><meta data-react-helmet="true" property="og:image" content="https://docs.yearn.finance/img/YFILogoGradient.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.yearn.finance/img/YFILogoGradient.png"><meta data-react-helmet="true" property="og:url" content="https://docs.yearn.finance/vaults/smart-contracts/BaseStrategy"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="0.4.3"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-0.4.3"><meta data-react-helmet="true" name="twitter:card" content="Yearn Finance is a suite of products in Decentralized Finance (DeFi) that provides lending aggregation, yield generation, and insurance on the Ethereum blockchain."><meta data-react-helmet="true" property="og:title" content="BaseStrategy | Yearn.finance"><meta data-react-helmet="true" name="description" content="Functions"><meta data-react-helmet="true" property="og:description" content="Functions"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.yearn.finance/vaults/smart-contracts/BaseStrategy"><link data-react-helmet="true" rel="alternate" href="https://docs.yearn.finance/vaults/smart-contracts/BaseStrategy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.yearn.finance/vaults/smart-contracts/BaseStrategy" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://UNKNOWN-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.de2eed67.css">
<link rel="preload" href="/assets/js/runtime~main.ba0bb7fc.js" as="script">
<link rel="preload" href="/assets/js/main.ff24e9d5.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Yearn Finance</b></a><a class="navbar__item navbar__link" href="/getting-started/intro">Getting Started</a><a class="navbar__item navbar__link" href="/developers/v2/getting-started">Develop</a><a class="navbar__item navbar__link" href="/partners/introduction">Partner</a><a class="navbar__item navbar__link" href="/contributing/contribute">Contribute</a><a class="navbar__item navbar__link" href="/resources/faq">Resources</a><a class="navbar__item navbar__link" href="/security/index">Security</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/vaults/smart-contracts/BaseStrategy">0.4.3</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/vaults/smart-contracts/BaseStrategy">0.4.3</a></li><li><a class="dropdown__link" href="/vaults/0.4.2/smart-contracts/BaseStrategy">0.4.2</a></li><li><a class="dropdown__link" href="/vaults/0.3.5/smart-contracts/BaseStrategy">0.3.5</a></li><li><a class="dropdown__link" href="/vaults/0.3.4/smart-contracts/BaseStrategy">0.3.4</a></li><li><a class="dropdown__link" href="/vaults/0.3.3/smart-contracts/BaseStrategy">0.3.3</a></li><li><a class="dropdown__link" href="/vaults/0.3.2/smart-contracts/BaseStrategy">0.3.2</a></li><li><a class="dropdown__link" href="/vaults/0.3.1/smart-contracts/BaseStrategy">0.3.1</a></li><li><a class="dropdown__link" href="/vaults/0.3.0/smart-contracts/BaseStrategy">0.3.0</a></li></ul></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:0px;background-color:transparent"> </span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:0px;background-color:transparent">Â </span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo.svg" alt="YFI Logo" class="themedImage_1VuW themedImage--dark_hz6m"><b>Yearn Finance</b></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Smart Contracts</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/vaults/smart-contracts/BaseStrategy">BaseStrategy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/BaseStrategyInitializable">BaseStrategyInitializable</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/BaseWrapper">BaseWrapper</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/IERC20Metadata">IERC20Metadata</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/IWETH">IWETH</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/RegistryAPI">RegistryAPI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/StrategyAPI">StrategyAPI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/VaultAPI">VaultAPI</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/registry">Registry.vy</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">test</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">utils</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/vault">Vault.vy</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/yToken">yToken</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/vaults/smart-contracts/yWETH">yWETH</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Yearn SDK</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/vaults/yearn-api">Yearn API</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Yearn Lens</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 0.4.3</span><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>BaseStrategy</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="apiversion"></a>apiVersion<a class="hash-link" href="#apiversion" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function apiVersion(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (string)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to track which version of <code>StrategyAPI</code> this Strategy
implements.</p><p>The Strategy&#x27;s version must match the Vault&#x27;s <code>API_VERSION</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values"></a>Return Values:<a class="hash-link" href="#return-values" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>A</code></td><td align="left"></td><td align="left">string which holds the current API version of this contract.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="name"></a>name<a class="hash-link" href="#name" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function name(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (string)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This Strategy&#x27;s name.
@dev
You can use this field to manage the &quot;version&quot; of this Strategy, e.g.
<code>StrategySomethingOrOtherV1</code>. However, &quot;API Version&quot; is managed by
<code>apiVersion()</code> function above.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values-1"></a>Return Values:<a class="hash-link" href="#return-values-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>This</code></td><td align="left"></td><td align="left">Strategy&#x27;s name.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="delegatedassets"></a>delegatedAssets<a class="hash-link" href="#delegatedassets" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function delegatedAssets(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> The amount (priced in want) of the total assets managed by this strategy should not count
towards Yearn&#x27;s TVL calculations.
@dev
You can override this field to set it to a non-zero value if some of the assets of this
Strategy is somehow delegated inside another part of of Yearn&#x27;s ecosystem e.g. another Vault.
Note that this value must be strictly less than or equal to the amount provided by
<code>estimatedTotalAssets()</code> below, as the TVL calc will be total assets minus delegated assets.
Also note that this value is used to determine the total assets under management by this
strategy, for the purposes of computing the management fee in <code>Vault</code>
@return
The amount of assets this strategy manages that should not be included in Yearn&#x27;s Total Value
Locked (TVL) calculation across it&#x27;s ecosystem.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="constructor"></a>constructor<a class="hash-link" href="#constructor" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function constructor(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="_initialize"></a>_initialize<a class="hash-link" href="#_initialize" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function _initialize(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _vault,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _strategist,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _rewards,</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _keeper</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Initializes the Strategy, this is called only once, when the
contract is deployed.</p><p><code>_vault</code> should implement <code>VaultAPI</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters"></a>Parameters:<a class="hash-link" href="#parameters" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_vault</code></td><td align="left">address</td><td align="left">The address of the Vault responsible for this Strategy.</td></tr><tr><td align="left"><code>_strategist</code></td><td align="left">address</td><td align="left">The address to assign as <code>strategist</code>.</td></tr></tbody></table><p>The strategist is able to change the reward address
|<code>_rewards</code> | address |  The address to use for pulling rewards.
|<code>_keeper</code> | address | The adddress of the _keeper. _keeper
can harvest and tend a strategy.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setstrategist"></a>setStrategist<a class="hash-link" href="#setstrategist" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setStrategist(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _strategist</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>strategist</code>.</p><p> This may only be called by governance or the existing strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-1"></a>Parameters:<a class="hash-link" href="#parameters-1" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_strategist</code></td><td align="left">address</td><td align="left">The new address to assign as <code>strategist</code>.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setkeeper"></a>setKeeper<a class="hash-link" href="#setkeeper" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setKeeper(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _keeper</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>keeper</code>.</p><p> <code>keeper</code> is the only address that may call <code>tend()</code> or <code>harvest()</code>,
other than <code>governance()</code> or <code>strategist</code>. However, unlike
<code>governance()</code> or <code>strategist</code>, <code>keeper</code> may <em>only</em> call <code>tend()</code>
and <code>harvest()</code>, and no other authorized functions, following the
principle of least privilege.</p><p> This may only be called by governance or the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-2"></a>Parameters:<a class="hash-link" href="#parameters-2" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_keeper</code></td><td align="left">address</td><td align="left">The new address to assign as <code>keeper</code>.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setrewards"></a>setRewards<a class="hash-link" href="#setrewards" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setRewards(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _rewards</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>rewards</code>. EOA or smart contract which has the permission
to pull rewards from the vault.</p><p> This may only be called by the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-3"></a>Parameters:<a class="hash-link" href="#parameters-3" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_rewards</code></td><td align="left">address</td><td align="left">The address to use for pulling rewards.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setminreportdelay"></a>setMinReportDelay<a class="hash-link" href="#setminreportdelay" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setMinReportDelay(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _delay</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>minReportDelay</code>. <code>minReportDelay</code> is the minimum number
of blocks that should pass for <code>harvest()</code> to be called.</p><p> For external keepers (such as the Keep3r network), this is the minimum
time between jobs to wait. (see <code>harvestTrigger()</code>
for more details.)</p><p> This may only be called by governance or the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-4"></a>Parameters:<a class="hash-link" href="#parameters-4" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_delay</code></td><td align="left">uint256</td><td align="left">The minimum number of seconds to wait between harvests.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setmaxreportdelay"></a>setMaxReportDelay<a class="hash-link" href="#setmaxreportdelay" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setMaxReportDelay(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _delay</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>maxReportDelay</code>. <code>maxReportDelay</code> is the maximum number
of blocks that should pass for <code>harvest()</code> to be called.</p><p> For external keepers (such as the Keep3r network), this is the maximum
time between jobs to wait. (see <code>harvestTrigger()</code>
for more details.)</p><p> This may only be called by governance or the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-5"></a>Parameters:<a class="hash-link" href="#parameters-5" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_delay</code></td><td align="left">uint256</td><td align="left">The maximum number of seconds to wait between harvests.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setprofitfactor"></a>setProfitFactor<a class="hash-link" href="#setprofitfactor" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setProfitFactor(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _profitFactor</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>profitFactor</code>. <code>profitFactor</code> is used to determine
if it&#x27;s worthwhile to harvest, given gas costs. (See <code>harvestTrigger()</code>
for more details.)</p><p> This may only be called by governance or the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-6"></a>Parameters:<a class="hash-link" href="#parameters-6" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_profitFactor</code></td><td align="left">uint256</td><td align="left">A ratio to multiply anticipated</td></tr></tbody></table><p><code>harvest()</code> gas cost against.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setdebtthreshold"></a>setDebtThreshold<a class="hash-link" href="#setdebtthreshold" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setDebtThreshold(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _debtThreshold</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Sets how far the Strategy can go into loss without a harvest and report
being required.</p><p> By default this is 0, meaning any losses would cause a harvest which
will subsequently report the loss to the Vault for tracking. (See
<code>harvestTrigger()</code> for more details.)</p><p> This may only be called by governance or the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-7"></a>Parameters:<a class="hash-link" href="#parameters-7" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_debtThreshold</code></td><td align="left">uint256</td><td align="left">How big of a loss this Strategy may carry without</td></tr></tbody></table><p>being required to report to the Vault.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setmetadatauri"></a>setMetadataURI<a class="hash-link" href="#setmetadatauri" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setMetadataURI(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    string _metadataURI</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Used to change <code>metadataURI</code>. <code>metadataURI</code> is used to store the URI
of the file describing the strategy.</p><p> This may only be called by governance or the strategist.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-8"></a>Parameters:<a class="hash-link" href="#parameters-8" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_metadataURI</code></td><td align="left">string</td><td align="left">The URI that describe the strategy.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="governance"></a>governance<a class="hash-link" href="#governance" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function governance(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (address)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Resolve governance address from Vault contract, used to make assertions
on protected functions in the Strategy.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="ethtowant"></a>ethToWant<a class="hash-link" href="#ethtowant" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function ethToWant(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _amtInWei</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (uint256)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Provide an accurate conversion from <code>_amtInWei</code> (denominated in wei)
to <code>want</code> (using the native decimal characteristics of <code>want</code>).
@dev
Care must be taken when working with decimals to assure that the conversion
is compatible. As an example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain"> given 1e17 wei (0.1 ETH) as input, and want is USDC (6 decimals),</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> with USDC/ETH = 1800, this should give back 1800000000 (180 USDC)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-9"></a>Parameters:<a class="hash-link" href="#parameters-9" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_amtInWei</code></td><td align="left">uint256</td><td align="left">The amount (in wei/1e-18 ETH) to convert to <code>want</code></td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values-2"></a>Return Values:<a class="hash-link" href="#return-values-2" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>The</code></td><td align="left">uint256</td><td align="left">amount in <code>want</code> of <code>_amtInEth</code> converted to <code>want</code></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="estimatedtotalassets"></a>estimatedTotalAssets<a class="hash-link" href="#estimatedtotalassets" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function estimatedTotalAssets(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (uint256)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Provide an accurate estimate for the total amount of assets
(principle + return) that this Strategy is currently managing,
denominated in terms of <code>want</code> tokens.</p><p> This total should be &quot;realizable&quot; e.g. the total value that could
<em>actually</em> be obtained from this Strategy if it were to divest its
entire position based on current on-chain conditions.
@dev
Care must be taken in using this function, since it relies on external
systems, which could be manipulated by the attacker to give an inflated
(or reduced) value produced by this function, based on current on-chain
conditions (e.g. this function is possible to influence through
flashloan attacks, oracle manipulations, or other DeFi attack
mechanisms).</p><p> It is up to governance to use this function to correctly order this
Strategy relative to its peers in the withdrawal queue to minimize
losses for the Vault based on sudden withdrawals. This value should be
higher than the total debt of the Strategy and higher than its expected
value to be &quot;safe&quot;.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values-3"></a>Return Values:<a class="hash-link" href="#return-values-3" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>The</code></td><td align="left"></td><td align="left">estimated total assets in this Strategy.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="isactive"></a>isActive<a class="hash-link" href="#isactive" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function isActive(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (bool)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="preparereturn"></a>prepareReturn<a class="hash-link" href="#preparereturn" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function prepareReturn(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (uint256 _profit, uint256 _loss, uint256 _debtPayment)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Perform any Strategy unwinding or other calls necessary to capture the
&quot;free return&quot; this Strategy has generated since the last time its core
position(s) were adjusted. Examples include unwrapping extra rewards.
This call is only used during &quot;normal operation&quot; of a Strategy, and
should be optimized to minimize losses as much as possible.</p><p>This method returns any realized profits and/or realized losses
incurred, and should return the total amounts of profits/losses/debt
payments (in <code>want</code> tokens) for the Vault&#x27;s accounting (e.g.
<code>want.balanceOf(this) &gt;= _debtPayment + _profit</code>).</p><p><code>_debtOutstanding</code> will be 0 if the Strategy is not past the configured
debt limit, otherwise its value will be how far past the debt limit
the Strategy is. The Strategy&#x27;s debt limit is configured in the Vault.</p><p>NOTE: <code>_debtPayment</code> should be less than or equal to <code>_debtOutstanding</code>.
It is okay for it to be less than <code>_debtOutstanding</code>, as that
should only used as a guide for how much is left to pay back.
Payments should be made to minimize loss from slippage, debt,
withdrawal fees, etc.</p><p>See <code>vault.debtOutstanding()</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="adjustposition"></a>adjustPosition<a class="hash-link" href="#adjustposition" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function adjustPosition(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Perform any adjustments to the core position(s) of this Strategy given
what change the Vault made in the &quot;investable capital&quot; available to the
Strategy. Note that all &quot;free capital&quot; in the Strategy after the report
was made is available for reinvestment. Also note that this number
could be 0, and you should handle that scenario accordingly.</p><p>See comments regarding <code>_debtOutstanding</code> on <code>prepareReturn()</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="liquidateposition"></a>liquidatePosition<a class="hash-link" href="#liquidateposition" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function liquidatePosition(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (uint256 _liquidatedAmount, uint256 _loss)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Liquidate up to <code>_amountNeeded</code> of <code>want</code> of this strategy&#x27;s positions,
irregardless of slippage. Any excess will be re-invested with <code>adjustPosition()</code>.
This function should return the amount of <code>want</code> tokens made available by the
liquidation. If there is a difference between them, <code>_loss</code> indicates whether the
difference is due to a realized loss, or if there is some other sitution at play
(e.g. locked funds) where the amount made available is less than what is needed.</p><p>NOTE: The invariant <code>_liquidatedAmount + _loss &lt;= _amountNeeded</code> should always be maintained</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="liquidateallpositions"></a>liquidateAllPositions<a class="hash-link" href="#liquidateallpositions" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function liquidateAllPositions(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (uint256 _amountFreed)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Liquidate everything and returns the amount that got freed.
This function is used during emergency exit instead of <code>prepareReturn()</code> to
liquidate all of the Strategy&#x27;s positions back to the Vault.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="tendtrigger"></a>tendTrigger<a class="hash-link" href="#tendtrigger" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function tendTrigger(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 callCostInWei</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (bool)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Provide a signal to the keeper that <code>tend()</code> should be called. The
keeper will provide the estimated gas cost that they would pay to call
<code>tend()</code>, and this function should use that estimate to make a
determination if calling it is &quot;worth it&quot; for the keeper. This is not
the only consideration into issuing this trigger, for example if the
position would be negatively affected if <code>tend()</code> is not called
shortly, then this can return <code>true</code> even if the keeper might be
&quot;at a loss&quot; (keepers are always reimbursed by Yearn).
@dev
<code>callCostInWei</code> must be priced in terms of <code>wei</code> (1e-18 ETH).</p><p> This call and <code>harvestTrigger()</code> should never return <code>true</code> at the same
time.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-10"></a>Parameters:<a class="hash-link" href="#parameters-10" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>callCostInWei</code></td><td align="left">uint256</td><td align="left">The keeper&#x27;s estimated gas cost to call <code>tend()</code> (in wei).</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values-4"></a>Return Values:<a class="hash-link" href="#return-values-4" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>if</code></td><td align="left">uint256</td><td align="left"><code>tend()</code> should be called, <code>false</code> otherwise.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="tend"></a>tend<a class="hash-link" href="#tend" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function tend(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Adjust the Strategy&#x27;s position. The purpose of tending isn&#x27;t to
realize gains, but to maximize yield by reinvesting any returns.</p><p> See comments on <code>adjustPosition()</code>.</p><p> This may only be called by governance, the strategist, or the keeper.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="harvesttrigger"></a>harvestTrigger<a class="hash-link" href="#harvesttrigger" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function harvestTrigger(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 callCostInWei</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) public returns (bool)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Provide a signal to the keeper that <code>harvest()</code> should be called. The
keeper will provide the estimated gas cost that they would pay to call
<code>harvest()</code>, and this function should use that estimate to make a
determination if calling it is &quot;worth it&quot; for the keeper. This is not
the only consideration into issuing this trigger, for example if the
position would be negatively affected if <code>harvest()</code> is not called
shortly, then this can return <code>true</code> even if the keeper might be &quot;at a
loss&quot; (keepers are always reimbursed by Yearn).
@dev
<code>callCostInWei</code> must be priced in terms of <code>wei</code> (1e-18 ETH).</p><p> This call and <code>tendTrigger</code> should never return <code>true</code> at the
same time.</p><p> See <code>min/maxReportDelay</code>, <code>profitFactor</code>, <code>debtThreshold</code> to adjust the
strategist-controlled parameters that will influence whether this call
returns <code>true</code> or not. These parameters will be used in conjunction
with the parameters reported to the Vault (see <code>params</code>) to determine
if calling <code>harvest()</code> is merited.</p><p> It is expected that an external system will check <code>harvestTrigger()</code>.
This could be a script run off a desktop or cloud bot (e.g.
<a href="https://github.com/iearn-finance/yearn-vaults/blob/master/scripts/keep.py" target="_blank" rel="noopener noreferrer">https://github.com/iearn-finance/yearn-vaults/blob/master/scripts/keep.py</a>),
or via an integration with the Keep3r network (e.g.
<a href="https://github.com/Macarse/GenericKeep3rV2/blob/master/contracts/keep3r/GenericKeep3rV2.sol" target="_blank" rel="noopener noreferrer">https://github.com/Macarse/GenericKeep3rV2/blob/master/contracts/keep3r/GenericKeep3rV2.sol</a>).</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-11"></a>Parameters:<a class="hash-link" href="#parameters-11" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>callCostInWei</code></td><td align="left">uint256</td><td align="left">The keeper&#x27;s estimated gas cost to call <code>harvest()</code> (in wei).</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values-5"></a>Return Values:<a class="hash-link" href="#return-values-5" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>if</code></td><td align="left">uint256</td><td align="left"><code>harvest()</code> should be called, <code>false</code> otherwise.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="harvest"></a>harvest<a class="hash-link" href="#harvest" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function harvest(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Harvests the Strategy, recognizing any profits or losses and adjusting
the Strategy&#x27;s position.</p><p> In the rare case the Strategy is in emergency shutdown, this will exit
the Strategy&#x27;s position.</p><p> This may only be called by governance, the strategist, or the keeper.
@dev
When <code>harvest()</code> is called, the Strategy reports to the Vault (via
<code>vault.report()</code>), so in some cases <code>harvest()</code> must be called in order
to take in profits, to borrow newly available funds from the Vault, or
otherwise adjust its position. In other cases <code>harvest()</code> must be
called to report to the Vault on the Strategy&#x27;s position, especially if
any losses have occurred.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="withdraw"></a>withdraw<a class="hash-link" href="#withdraw" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function withdraw(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    uint256 _amountNeeded</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external returns (uint256 _loss)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Withdraws <code>_amountNeeded</code> to <code>vault</code>.</p><p> This may only be called by the Vault.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-12"></a>Parameters:<a class="hash-link" href="#parameters-12" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_amountNeeded</code></td><td align="left">uint256</td><td align="left">How much <code>want</code> to withdraw.</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="return-values-6"></a>Return Values:<a class="hash-link" href="#return-values-6" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_loss</code></td><td align="left">uint256</td><td align="left">Any realized losses</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="preparemigration"></a>prepareMigration<a class="hash-link" href="#preparemigration" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function prepareMigration(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Do anything necessary to prepare this Strategy for migration, such as
transferring any reserve or LP tokens, CDPs, or other tokens or stores of
value.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="migrate"></a>migrate<a class="hash-link" href="#migrate" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function migrate(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _newStrategy</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Transfers all <code>want</code> from this Strategy to <code>_newStrategy</code>.</p><p> This may only be called by the Vault.
@dev
The new Strategy&#x27;s Vault must be the same as this Strategy&#x27;s Vault.
The migration process should be carefully performed to make sure all
the assets are migrated to the new address, which should have never
interacted with the vault before.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-13"></a>Parameters:<a class="hash-link" href="#parameters-13" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_newStrategy</code></td><td align="left">address</td><td align="left">The Strategy to migrate to.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="setemergencyexit"></a>setEmergencyExit<a class="hash-link" href="#setemergencyexit" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function setEmergencyExit(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Activates emergency exit. Once activated, the Strategy will exit its
position upon the next harvest, depositing all funds into the Vault as
quickly as is reasonable given on-chain conditions.</p><p> This may only be called by governance or the strategist.
@dev
See <code>vault.setEmergencyShutdown()</code> and <code>harvest()</code> for further details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="protectedtokens"></a>protectedTokens<a class="hash-link" href="#protectedtokens" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function protectedTokens(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) internal returns (address[])</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Override this to add all tokens/tokenized positions this contract
manages on a <em>persistent</em> basis (e.g. not just for swapping back to
want ephemerally).</p><p>NOTE: Do <em>not</em> include <code>want</code>, already included in <code>sweep</code> below.</p><p>Example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   function protectedTokens() internal override view returns (address[] memory) {</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     address[] memory protected = new address[](3);</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     protected[0] = tokenA;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     protected[1] = tokenB;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     protected[2] = tokenC;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">     return protected;</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="sweep"></a>sweep<a class="hash-link" href="#sweep" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  function sweep(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    address _token</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ) external</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p> Removes tokens from this Strategy that are not the type of tokens
managed by this Strategy. This may be used in case of accidentally
sending the wrong kind of token to this Strategy.</p><p> Tokens will be sent to <code>governance()</code>.</p><p> This will fail if an attempt is made to sweep <code>want</code>, or any tokens
that are protected by this Strategy.</p><p> This may only be called by governance.
@dev
Implement <code>protectedTokens()</code> to specify any additional tokens that
should be protected from sweeping in addition to <code>want</code>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithHideOnScrollNavbar_3R7-" id="parameters-14"></a>Parameters:<a class="hash-link" href="#parameters-14" title="Direct link to heading">#</a></h4><table><thead><tr><th align="left">Name</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>_token</code></td><td align="left">address</td><td align="left">The token to transfer out of this vault.</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithHideOnScrollNavbar_3R7-" id="events"></a>Events<a class="hash-link" href="#events" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="harvested"></a>Harvested<a class="hash-link" href="#harvested" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event Harvested(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedstrategist"></a>UpdatedStrategist<a class="hash-link" href="#updatedstrategist" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedStrategist(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedkeeper"></a>UpdatedKeeper<a class="hash-link" href="#updatedkeeper" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedKeeper(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedrewards"></a>UpdatedRewards<a class="hash-link" href="#updatedrewards" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedRewards(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedminreportdelay"></a>UpdatedMinReportDelay<a class="hash-link" href="#updatedminreportdelay" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedMinReportDelay(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedmaxreportdelay"></a>UpdatedMaxReportDelay<a class="hash-link" href="#updatedmaxreportdelay" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedMaxReportDelay(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedprofitfactor"></a>UpdatedProfitFactor<a class="hash-link" href="#updatedprofitfactor" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedProfitFactor(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updateddebtthreshold"></a>UpdatedDebtThreshold<a class="hash-link" href="#updateddebtthreshold" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedDebtThreshold(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="emergencyexitenabled"></a>EmergencyExitEnabled<a class="hash-link" href="#emergencyexitenabled" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event EmergencyExitEnabled(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithHideOnScrollNavbar_3R7-" id="updatedmetadatauri"></a>UpdatedMetadataURI<a class="hash-link" href="#updatedmetadatauri" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly solidity"><pre tabindex="0" class="prism-code language-solidity codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">  event UpdatedMetadataURI(</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/yearn/yearn-devdocs/edit/master/website/versioned_docs/version-0.4.3/smart-contracts/BaseStrategy.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/vaults/smart-contracts/BaseStrategyInitializable"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">BaseStrategyInitializable Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#functions" class="table-of-contents__link">Functions</a><ul><li><a href="#apiversion" class="table-of-contents__link">apiVersion</a></li><li><a href="#name" class="table-of-contents__link">name</a></li><li><a href="#delegatedassets" class="table-of-contents__link">delegatedAssets</a></li><li><a href="#constructor" class="table-of-contents__link">constructor</a></li><li><a href="#_initialize" class="table-of-contents__link">_initialize</a></li><li><a href="#setstrategist" class="table-of-contents__link">setStrategist</a></li><li><a href="#setkeeper" class="table-of-contents__link">setKeeper</a></li><li><a href="#setrewards" class="table-of-contents__link">setRewards</a></li><li><a href="#setminreportdelay" class="table-of-contents__link">setMinReportDelay</a></li><li><a href="#setmaxreportdelay" class="table-of-contents__link">setMaxReportDelay</a></li><li><a href="#setprofitfactor" class="table-of-contents__link">setProfitFactor</a></li><li><a href="#setdebtthreshold" class="table-of-contents__link">setDebtThreshold</a></li><li><a href="#setmetadatauri" class="table-of-contents__link">setMetadataURI</a></li><li><a href="#governance" class="table-of-contents__link">governance</a></li><li><a href="#ethtowant" class="table-of-contents__link">ethToWant</a></li><li><a href="#estimatedtotalassets" class="table-of-contents__link">estimatedTotalAssets</a></li><li><a href="#isactive" class="table-of-contents__link">isActive</a></li><li><a href="#preparereturn" class="table-of-contents__link">prepareReturn</a></li><li><a href="#adjustposition" class="table-of-contents__link">adjustPosition</a></li><li><a href="#liquidateposition" class="table-of-contents__link">liquidatePosition</a></li><li><a href="#liquidateallpositions" class="table-of-contents__link">liquidateAllPositions</a></li><li><a href="#tendtrigger" class="table-of-contents__link">tendTrigger</a></li><li><a href="#tend" class="table-of-contents__link">tend</a></li><li><a href="#harvesttrigger" class="table-of-contents__link">harvestTrigger</a></li><li><a href="#harvest" class="table-of-contents__link">harvest</a></li><li><a href="#withdraw" class="table-of-contents__link">withdraw</a></li><li><a href="#preparemigration" class="table-of-contents__link">prepareMigration</a></li><li><a href="#migrate" class="table-of-contents__link">migrate</a></li><li><a href="#setemergencyexit" class="table-of-contents__link">setEmergencyExit</a></li><li><a href="#protectedtokens" class="table-of-contents__link">protectedTokens</a></li><li><a href="#sweep" class="table-of-contents__link">sweep</a></li></ul></li><li><a href="#events" class="table-of-contents__link">Events</a><ul><li><a href="#harvested" class="table-of-contents__link">Harvested</a></li><li><a href="#updatedstrategist" class="table-of-contents__link">UpdatedStrategist</a></li><li><a href="#updatedkeeper" class="table-of-contents__link">UpdatedKeeper</a></li><li><a href="#updatedrewards" class="table-of-contents__link">UpdatedRewards</a></li><li><a href="#updatedminreportdelay" class="table-of-contents__link">UpdatedMinReportDelay</a></li><li><a href="#updatedmaxreportdelay" class="table-of-contents__link">UpdatedMaxReportDelay</a></li><li><a href="#updatedprofitfactor" class="table-of-contents__link">UpdatedProfitFactor</a></li><li><a href="#updateddebtthreshold" class="table-of-contents__link">UpdatedDebtThreshold</a></li><li><a href="#emergencyexitenabled" class="table-of-contents__link">EmergencyExitEnabled</a></li><li><a href="#updatedmetadatauri" class="table-of-contents__link">UpdatedMetadataURI</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items"><li class="footer__item"><a href="https://contribute.yearn.rocks/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Open Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>#strategies - Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://forms.gle/Jkbu81sjAfL6NzH17" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Get Involved - Survey<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/yearn/yearn-vaults" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/brownie-strategy-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>brownie-strategy-mix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/brownie-wrapper-mix" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>brownie-wrapper-mix<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-watch" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-watch<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-finance-v3" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-finance-v3<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/yearn/yearn-security" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>yearn-security<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Ecosystem</div><ul class="footer__items"><li class="footer__item"><a href="https://yearn.finance/vaults" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Vaults<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.yfistats.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YFI Stats<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://bowswap.finance/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Bowswap<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/b8ENPNqG5c" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/iearnfinance" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/yearnfinance/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/iearn" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gov.yearn.finance" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://snapshot.org/#/ybaby.eth" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Snapshot voting<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.ba0bb7fc.js"></script>
<script src="/assets/js/main.ff24e9d5.js"></script>
</body>
</html>